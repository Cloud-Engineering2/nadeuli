<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1/N 정산</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css">

    <!-- Custom Styles -->
    <link rel="stylesheet" th:href="@{/css/expense-book.css}">

    <!-- jQuery & Sortable -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.2/Sortable.min.js"></script>

    <!-- Moment.js & Date Range Picker -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-date-range-picker/dist/daterangepicker.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery-date-range-picker/dist/jquery.daterangepicker.min.js"></script>

</head>



<body>

<div class="modal fade" id="travelModal" data-bs-backdrop="static" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content p-4">
            <div class="modal-header border-0">
                <h2 class="modal-title text-center w-100 fw-light" id="modal-title">여행 기간을 설정해주세요</h2>
                <button type="button" class="btn-close position-absolute" data-bs-dismiss="modal" aria-label="Close" style="top: 15px; right: 15px;"></button>
            </div>
            <div class="modal-body text-center" id="modal-body">
                <div id="step-container">
                    <!-- 여행 기간 선택 -->
                    <div id="step-date-selection">
                        <p class="fw-light">여행 일자는 최대 7일까지 설정 가능합니다.</p>
                        <div id="date-range-container" class="mb-3"></div>
                        <p><span id="selected-date">　</span></p>
                    </div>

                    <!-- 시작/종료 시간 설정 -->
                    <div id="step-time-selection">
                        <div class="time-container">
                            <span class="date-label">전체 적용</span>
                            <input type="time" id="start-global" class="form-control time-input" value="09:00">
                            <input type="time" id="end-global" class="form-control time-input" value="23:00">
                            <button id="apply-global-time" class="btn btn-secondary" >전체 적용</button>
                        </div>
                        <hr>
                        <div id="time-selection-container"></div>
                    </div>
                </div>
            </div>
            <div class="modal-footer border-0 d-flex justify-content-between">
                <button id="back-btn" class="btn btn-secondary" style="visibility: hidden;">뒤로 가기</button>
                <button id="next-btn" class="btn btn-dark">다음</button>
            </div>
        </div>
    </div>
</div>

<!-- 상단 헤더 -->
<div id="header">
    <div id="header-inner">
        <div id="left-header"> 나들이</div>
        <div id="mid-header"> 나들이</div>
        <div id="right-header">   <button id="save-button">저장하기</button></div>
    </div>

</div>

<div class="container-fluid">

    <!-- 왼쪽 패널 -->
    <div class="col-md-3" id="sidebar">
        <div class="schedule-header" id="scheduleHeader">
            <div class="schedule-header-left">
                <div class="schedule-header-name">여행 제목</div>
                <div class="schedule-header-date">2025/03/02(화) ~ 2025/03/08(목)</div>
            </div>
            <div class="schedule-header-right">
                <button class="event-options-button schedule">⚙️</button>
                <div class="event-options hidden">
                    <button class="event-date-change">기간 및 시간 변경</button>
                    <button class="event-remove">일정표 삭제</button>
                </div>️
            </div>
        </div>

        <!-- day 별 탭 컨테이너 -->
        <div class="tab-container" id="tabContainer"></div>

        <!-- Itinerary Event -->
        <div class="schedule-container" id="scheduleContainer"></div>


    </div>

    <!-- 크기 조절 핸들 -->
    <div id="resize-handle"></div>

    <!-- 오른쪽 화면 -->
    <div class="col-md-9" id="sidebarRight" >
        <div class="detail-container" id="detailContainer">지도 영역</div>
    </div>

</div>

<!-- JavaScript -->

<script th:src="@{/js/expense-book.js}"></script>
<!-- 서버용 <script src="js/expense-book.js"></script>-->
<!-- 라이브용 <script src="expense-book.js"></script>-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
